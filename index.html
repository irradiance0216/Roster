<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manning Admin</title>
    <style>
        body { font-family: system-ui, sans-serif; max-width: 600px; margin: 2rem auto; padding: 0 1rem; line-height: 1.5; background: #f4f7f6; }
        section { background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 1rem; }
        h2 { margin-top: 0; color: #333; }
        .input-group { display: flex; gap: 10px; margin-bottom: 10px; }
        input { padding: 8px; border: 1px solid #ccc; border-radius: 4px; flex: 1; }
        button { padding: 8px 16px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 4px; }
        button:hover { background: #0056b3; }
        .result-card { background: #e9ecef; padding: 1rem; border-radius: 4px; border-left: 4px solid #007bff; }
        .pos-item { font-size: 0.9rem; background: #eee; padding: 5px 10px; border-radius: 4px; margin-bottom: 5px; display: flex; justify-content: space-between; }
    </style>
</head>
<body>

    <h2>ðŸ›  Manning Administrator</h2>

    <section>
        <h3>1. Define Positions</h3>
        <div class="input-group">
            <input type="text" id="posName" placeholder="e.g. Front Desk">
            <input type="number" id="posHours" placeholder="Hours" step="0.5">
            <button onclick="addPosition()">Add</button>
        </div>
        <div id="positionsList"></div>
    </section>

    <section>
        <h3>2. Available Staff</h3>
        <input type="number" id="staffCount" placeholder="How many people are working today?" min="1">
    </section>

    <button style="width: 100%; padding: 15px; font-weight: bold;" onclick="calculateManning()">Calculate Distribution</button>

    <section id="outputSection" style="display:none; margin-top: 20px;">
        <h3>Daily Plan</h3>
        <div id="results" class="result-card"></div>
    </section>

    <script>
        let positions = [];

        function addPosition() {
            const name = document.getElementById('posName').value;
            const hours = parseFloat(document.getElementById('posHours').value);
            
            if (name && hours) {
                positions.push({ name, hours });
                renderPositions();
                document.getElementById('posName').value = '';
                document.getElementById('posHours').value = '';
            }
        }

        function renderPositions() {
            const list = document.getElementById('positionsList');
            list.innerHTML = positions.map((p, i) => `
                <div class="pos-item">
                    <span>${p.name}</span>
                    <span><strong>${p.hours}h</strong></span>
                </div>
            `).join('');
        }

        function calculateManning() {
            const staffCount = parseInt(document.getElementById('staffCount').value);
            if (!staffCount || positions.length === 0) return alert("Please add positions and staff count.");

            const totalHours = positions.reduce((sum, p) => sum + p.hours, 0);
            const hoursPerPerson = totalHours / staffCount;
            
            // Simple logic: if shift > 5 hours, suggest a 45 min break
            const breakTime = hoursPerPerson > 5 ? 0.75 : 0.5; 
            const netWorkTime = hoursPerPerson - breakTime;

            const output = document.getElementById('outputSection');
            const results = document.getElementById('results');
            
            output.style.display = 'block';
            results.innerHTML = `
                <p><strong>Total Labor Demand:</strong> ${totalHours} hours</p>
                <p><strong>Shift Length:</strong> ${hoursPerPerson.toFixed(2)} hours per person</p>
                <p><strong>Recommended Break:</strong> ${(breakTime * 60)} minutes</p>
                <hr>
                <p><strong>Actual Work Time:</strong> ${netWorkTime.toFixed(2)} hours</p>
            `;
        }
    </script>
</body>
</html>
